<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Otrium AI Background Remover</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}?v=1754732926">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='none' stroke='%23000' stroke-width='8'/><text x='50' y='65' font-family='Arial, sans-serif' font-size='50' font-weight='bold' text-anchor='middle' fill='%23000'>O</text></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <i class="fas fa-magic"></i>
                <h1>Settings</h1>
            </div>
            <p class="subtitle">Configure AI background removal settings</p>
        </header>

        <nav class="navigation">
            <a href="/" class="nav-link">
                <i class="fas fa-home"></i>
                Home
            </a>
            <a href="/settings" class="nav-link active">
                <i class="fas fa-cog"></i>
                Settings
            </a>
        </nav>

        <main class="main-content">
            <div class="settings-section">
                <div class="settings-header">
                    <h2><i class="fas fa-cog"></i> Settings</h2>
                </div>

                <div class="settings-content">

                    <!-- S3 Upload Configuration -->
                    <div class="s3-settings-section">
                        <div class="section-header">
                            <h3><i class="fas fa-cloud-upload-alt"></i> S3 Upload Settings</h3>
                            <p class="section-description">Configure AWS S3 for automatic upload of processed images</p>
                        </div>
                        
                        <div class="s3-settings">
                            <div class="setting-item">
                                <label for="enableS3Upload" class="s3-toggle">
                                    <input type="checkbox" id="enableS3Upload" name="enableS3Upload">
                                    <span class="toggle-label">Enable S3 Upload</span>
                                </label>
                                <small>Automatically upload processed images to AWS S3 bucket</small>
                            </div>
                            
                            <div class="s3-credentials" id="s3Credentials" style="display: none;">
                                <div class="setting-item">
                                    <label for="s3BucketName">S3 Bucket Name: <span class="required-indicator">*</span></label>
                                    <input type="text" id="s3BucketName" name="s3BucketName" class="setting-input" placeholder="my-background-remover-bucket" required>
                                    <small>The name of your AWS S3 bucket</small>
                                </div>
                                
                                <div class="setting-item">
                                    <label for="s3AccessKeyId">Access Key ID: <span class="required-indicator">*</span></label>
                                    <input type="text" id="s3AccessKeyId" name="s3AccessKeyId" class="setting-input" placeholder="AKIA..." required>
                                    <small>Your AWS Access Key ID</small>
                                </div>
                                
                                <div class="setting-item">
                                    <label for="s3SecretAccessKey">Secret Access Key: <span class="required-indicator">*</span></label>
                                    <input type="password" id="s3SecretAccessKey" name="s3SecretAccessKey" class="setting-input" placeholder="Secret key..." required>
                                    <small>Your AWS Secret Access Key</small>
                                </div>
                                
                                <div class="setting-item">
                                    <label for="s3RegionName">Region: <span class="required-indicator">*</span></label>
                                    <select id="s3RegionName" name="s3RegionName" class="setting-input" required>
                                        <option value="us-east-1">US East (N. Virginia) - us-east-1</option>
                                        <option value="us-west-2">US West (Oregon) - us-west-2</option>
                                        <option value="eu-west-1">Europe (Ireland) - eu-west-1</option>
                                        <option value="ap-southeast-1">Asia Pacific (Singapore) - ap-southeast-1</option>
                                        <option value="ap-northeast-1">Asia Pacific (Tokyo) - ap-northeast-1</option>
                                    </select>
                                    <small>The AWS region where your S3 bucket is located</small>
                                </div>
                                
                                <div class="setting-item">
                                    <label for="s3FolderPrefix">Folder Prefix:</label>
                                    <input type="text" id="s3FolderPrefix" name="s3FolderPrefix" class="setting-input" placeholder="background-remover/" value="background-remover/">
                                    <small>Folder prefix for organizing uploaded files in S3</small>
                                </div>
                            </div>
                            
                            <div class="s3-status" id="s3Status">
                                <div class="status-indicator">
                                    <i class="fas fa-circle status-icon"></i>
                                    <span class="status-text">S3 upload disabled</span>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="settings-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">
                            <i class="fas fa-save"></i>
                            Save Settings
                        </button>
                        <button class="btn btn-secondary" onclick="resetSettings()">
                            <i class="fas fa-undo"></i>
                            Reset to Defaults
                        </button>
                    </div>
                </div>
            </div>
        </main>

        <footer class="footer">
            <p>&copy; 2025 Otrium.com. Professional AI Image Processing.</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/settings.js') }}"></script>
    <script>
        // Simple backup toggle functionality in case main JS fails
        document.addEventListener('DOMContentLoaded', function() {
            const checkbox = document.getElementById('enableS3Upload');
            const credentials = document.getElementById('s3Credentials');
            
            if (checkbox && credentials) {
                // Set initial state
                credentials.style.display = checkbox.checked ? 'block' : 'none';
                
                // Add change listener
                checkbox.addEventListener('change', function() {
                    credentials.style.display = this.checked ? 'block' : 'none';
                    console.log('S3 toggle changed:', this.checked);
                });
                
                console.log('S3 toggle functionality initialized');
            } else {
                console.log('S3 elements not found');
            }
        });
    </script>
</body>
</html> 